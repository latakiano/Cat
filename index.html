<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HIMALAYAN LEGENDS - THE FINAL HOPE</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Arial', sans-serif; touch-action: none; color: white; }
        #ui { position: absolute; top: 10px; width: 100%; display: flex; justify-content: space-around; z-index: 100; pointer-events: none; }
        .stat { background: rgba(0,0,0,0.8); border: 2px solid #ffd700; padding: 5px 15px; border-radius: 15px; font-weight: bold; }
        .screen { position: fixed; inset: 0; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000; text-align: center; border: 5px solid #333; }
        .btn { padding: 20px 60px; font-size: 25px; background: gold; border: none; border-radius: 50px; color: #000; cursor: pointer; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>

<div id="ui">
    <div class="stat">ğŸ° <span id="loc">LONDON</span></div>
    <div class="stat">ğŸ’° <span id="scr">0</span></div>
</div>

<div id="startScreen" class="screen">
    <h1 style="color: gold; font-size: 40px; margin: 0;">Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø·Ø© Ø§Ù„Ù‡Ù…Ù„Ø§ÙŠØ§</h1>
    <p style="font-size: 20px;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø© ÙÙˆØ±Ø§Ù‹</p>
    <button class="btn" onclick="start()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>
</div>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;

// --- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø·Ø© ÙˆØ§Ù„ÙˆØ­ÙˆØ´ (Ù…Ø±Ø³ÙˆÙ…Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¸Ù‡ÙˆØ±) ---
let game = { active: false, score: 0, cur: 0, dist: 0 };
let p = { x: 100, y: 300, v: 0, w: 60, h: 50 }; // Ø§Ù„Ù‚Ø·Ø©
let m = { x: -150, y: 300 }; // Ø§Ù„ÙˆØ­Ø´
let obs = [], coins = [];
const cities = ["LONDON", "PARIS", "BERLIN", "ROME", "AMSTERDAM", "TOKYO", "DUBAI", "CAIRO", "MADRID", "LATAKIA"];

function drawCat(x, y) {
    // Ø±Ø³Ù… Ø§Ù„Ù‚Ø·Ø© (Ø¬Ø³Ù… Ø£Ø¨ÙŠØ¶ØŒ Ø¹ÙŠÙˆÙ† Ø²Ø±Ù‚Ø§Ø¡ØŒ Ø£Ø°Ù†ÙŠÙ† Ø¨Ù†ÙŠØ©)
    ctx.fillStyle = "white";
    ctx.beginPath(); ctx.ellipse(x+30, y+25, 25, 18, 0, 0, Math.PI*2); ctx.fill(); // Ø§Ù„Ø¬Ø³Ù…
    ctx.beginPath(); ctx.arc(x+50, y+15, 12, 0, Math.PI*2); ctx.fill(); // Ø§Ù„Ø±Ø£Ø³
    ctx.fillStyle = "#5D4037"; // Ø¨Ù†ÙŠ Ù„Ù„Ø£Ø°Ù†ÙŠÙ†
    ctx.beginPath(); ctx.moveTo(x+45, y+5); ctx.lineTo(x+42, y-5); ctx.lineTo(x+50, y+2); ctx.fill();
    ctx.fillStyle = "blue"; // Ø¹ÙŠÙˆÙ† Ø²Ø±Ù‚Ø§Ø¡
    ctx.beginPath(); ctx.arc(x+55, y+12, 2, 0, Math.PI*2); ctx.fill();
}

function drawMonster(x, y) {
    // Ø±Ø³Ù… Ø§Ù„ÙˆØ­Ø´ (Ù„ÙˆÙ† Ø£Ø­Ù…Ø± ØºØ§Ù…Ù‚)
    ctx.fillStyle = game.cur === 9 ? "orange" : "red"; // Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ© (Ø§Ù„Ø£Ø³Ø¯)
    ctx.beginPath(); ctx.moveTo(x, y); ctx.lineTo(x+80, y+30); ctx.lineTo(x, y+60); ctx.closePath(); ctx.fill();
    ctx.fillStyle = "white"; ctx.beginPath(); ctx.arc(x+60, y+30, 5, 0, Math.PI*2); ctx.fill();
}

function drawCoin(x, y) {
    ctx.fillStyle = "gold"; ctx.beginPath(); ctx.arc(x, y, 12, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle = "black"; ctx.font = "bold 12px Arial"; ctx.fillText("$", x-4, y+4);
}

function start() {
    document.getElementById('startScreen').style.display = 'none';
    game.active = true; game.score = 0; game.cur = 0; obs = []; coins = [];
    p.y = canvas.height/2; p.v = 0;
}

function loop() {
    ctx.fillStyle = "#0a0a1a"; ctx.fillRect(0, 0, canvas.width, canvas.height);

    if (game.active) {
        p.v += 0.6; p.y += p.v; // Ø¬Ø§Ø°Ø¨ÙŠØ©
        m.y += (p.y - m.y) * 0.05; m.x = Math.min(p.x - 100, m.x + 0.5); // Ø§Ù„ÙˆØ­Ø´ ÙŠØ·Ø§Ø±Ø¯

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
        if (obs.length === 0 || obs[obs.length-1].x < canvas.width - 400) {
            obs.push({ x: canvas.width, y: Math.random()*(canvas.height-300)+50, h: 250 });
        }
        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
        if (Math.random() < 0.01) coins.push({ x: canvas.width, y: Math.random()*(canvas.height-100)+50 });

        obs.forEach((o, i) => {
            o.x -= 5 + game.cur;
            ctx.fillStyle = "cyan"; ctx.globalAlpha = 0.4;
            ctx.fillRect(o.x, 0, 50, o.y); ctx.fillRect(o.x, o.y+o.h, 50, canvas.height);
            ctx.globalAlpha = 1;
            if (p.x+50 > o.x && p.x < o.x+50 && (p.y < o.y || p.y+40 > o.y+o.h)) game.active = false;
        });

        coins.forEach((c, i) => {
            c.x -= 5 + game.cur; drawCoin(c.x, c.y);
            if (Math.hypot(p.x+30 - c.x, p.y+20 - c.y) < 30) { game.score += 10; coins.splice(i, 1); }
        });

        if (p.y > canvas.height || p.y < -50 || p.x < m.x + 50) game.active = false;

        game.dist++; if (game.dist > 1000 && game.cur < 9) { game.cur++; game.dist = 0; }
    } else if (p.y !== 0) {
        document.getElementById('startScreen').style.display = 'flex';
    }

    drawMonster(m.x, m.y);
    drawCat(p.x, p.y);

    document.getElementById('scr').innerText = game.score;
    document.getElementById('loc').innerText = cities[game.cur];
    requestAnimationFrame(loop);
}

window.onmousedown = () => { if(game.active) p.v = -10; };
window.ontouchstart = (e) => { e.preventDefault(); if(game.active) p.v = -10; };
loop();
</script>
</body>
</html>